<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <title>Hospital_Selection</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'Hospital_Selection.css' %}">
    <script>
        $(document).ready(function(){
        $("#countries").on("change",function(){
        var country=$("#countries").val();
        if(country=="Select")
             alert("Select Appropriate Country");
        $.ajax(
        {
             type:"get",
             url:"/Doctor/states/",
             data:
             {
              country:$("#countries").val()
             },
             success:function(data)
             {
             var states=JSON.stringify(data);
             var p=states.split(",");
             $("#states").empty();
             $("#states").append(`<option value="Select">
                                       Select State
                                  </option>`);

             for(var i=0;i<p.length;i++)
             {
             var optionText=p[i].replace("\"","");
                $("#states").append(`<option value="${optionText}">
                                       ${optionText}
                                  </option>`);
             }
             }
        });
        });
        $("#states").on("change",function(){
        var state=$("#states").val();
         if(state=="Select")
             alert("Select Appropriate State");
        $.ajax(
        {
             type:"get",
             url:"/Doctor/city/",
             data:
             {
              city:$("#states").val()
             },
             success:function(data)
             {
             var states=JSON.stringify(data);

             var p=states.split(",");
             $("#cities").empty();
             $("#cities").append(`<option value="Select">
                                       Select City
                                  </option>`);

             for(var i=0;i<p.length;i++)
             {
             var optionText=p[i].replace("\"","");
                $("#cities").append(`<option value="${optionText}">
                                       ${optionText}
                                  </option>`);
             }
             }
        });
        });
        $("#form1").on("submit",function()
        {
         var state=$("#states").val();
         var city=$("#cities").val();
         var country=$("#countries").val();
         if(state=="Select" || city=="Select" || country=="Select")
             alert("Select Appropriate values from dropdowns");
        });
        });


    </script>
</head>
<body>
   <div>
        <image src="{% static 'image3.jpeg' %}" width="100%" height="300px"></image>
    </div>
<div class="card-body" id="div_form">
<form action="{% url 'list_of_hospital' %}" method="post" id="form1">
   {% csrf_token %}
{% if list_of_countries|length > 0 %}
    <select class="form_select" id="countries" name="country">
     <option value="Select">Select Country</option>
    {% for i in list_of_countries %}
            <option value="{{ i }}">{{ i }}</option>
    {% endfor %}
    </select>
{% endif %}
      {% if list_of_states|length > 0 %}
    <select id="states" class="form_select" name="state">
            <option value="Select">Select State</option>
    </select>
{% endif %}
    {% if list_of_cities|length > 0 %}
    <select id="cities" class="form_select" name="city">
        <option value="Select">Select City</option>
    </select>
{% endif %}
    <button type="submit" class="btn btn-success" id="submit_form"> Submit</button>
</form>
</div>
<div class="row" style="margin-top:-100px;">
    <div class="col-sm-4">
        <div class="card">
            <image src="{% static 'image2.jpeg' %}" class="img1"></image>
            <table class="table-stripped">
                <tr>
                    <th>Name:</th>
                    <td>Aggarwal Hospital</td>
                </tr>
                <tr>
                    <th>City:</th>
                    <td>Kurukshetra</td>

                </tr>
                <tr>
                    <th>Price:</th>
                    <td>250</td>
                </tr>
            </table>
            <button class="btn btn-primary">Apply Now</button>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="card">
            <image src="{% static 'image2.jpeg' %}" class="img1"></image>
            <table class="table-stripped">
                <tr>
                    <th>Name:</th>
                    <td>Aggarwal Hospital</td>
                </tr>
                <tr>
                    <th>City:</th>
                    <td>Kurukshetra</td>
                </tr>
                <tr>
                    <th>Price:</th>
                    <td>250</td>
                </tr>
            </table>
            <button class="btn btn-primary">Apply Now</button>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="card">
            <image src="{% static 'image2.jpeg' %}" class="img1"></image>
            <table class="table-stripped">
                <tr>
                    <th>Name:</th>
                    <td>Aggarwal Hospital</td>
                </tr>
                <tr>
                    <th>City:</th>
                    <td>Kurukshetra</td>
                </tr>
                <tr>
                    <th>Price:</th>
                    <td>250</td>
                </tr>
            </table>
            <button class="btn btn-primary">Apply Now</button>
        </div>
    </div>
</div>
</body>
</html>